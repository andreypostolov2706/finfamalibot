# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π: –ü–ª–∞—Ç–µ–∂–∏ –∏ —É—á—ë—Ç —Å—Ä–µ–¥—Å—Ç–≤

–í–µ—Ä—Å–∏—è: 0.1
–ê–≤—Ç–æ—Ä: –∫–æ–º–∞–Ω–¥–∞
–î–∞—Ç–∞: 2026-02-23

–¶–µ–ª—å: –æ–ø–∏—Å–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã "–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏", —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤/–¥–æ—Ö–æ–¥–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞–º–∏ (–∫–∞—Ä—Ç–∞ / –Ω–∞–ª–∏—á–Ω—ã–µ). –ü–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —à–∞–≥–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

- FixedPayment ‚Äî —à–∞–±–ª–æ–Ω —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—É–º–º–∞, –¥–µ–Ω—å –º–µ—Å—è—Ü–∞, —Å—á—ë—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å).
- FixedPaymentDue ‚Äî –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ FixedPayment –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü/–≥–æ–¥; —Ö—Ä–∞–Ω–∏—Ç due_amount, paid_amount, is_paid, skipped, paid_at, paid_account_id.
- FamilyBudget ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç; —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –∏ breakdown –ø–æ —Å—á–µ—Ç–∞–º (–∫–∞—Ä—Ç–∞, –Ω–∞–ª–∏—á–∫–∞).
- BusinessAccount ‚Äî —Å—á—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞/–∫–∞—Ä—Ç—ã), –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å name –∏ balance.
- Operation / OperationItem ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å —Ä–∞—Å—Ö–æ–¥–∞/–¥–æ—Ö–æ–¥–∞. Operation.type: `family_expense`, `family_income`, `salary`, `business_expense`, `business_income`, `transfer`, `piggy_deposit`, `piggy_withdraw`.


## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–æ–¥–µ–ª–∏ –±–∞–ª–∞–Ω—Å–∞

–í–∞—Ä–∏–∞–Ω—Ç –≤—ã–±—Ä–∞–Ω: —Ä–∞—Å—à–∏—Ä–∏—Ç—å `FamilyBudget` –∏–ª–∏ –∏–º–µ—Ç—å –¥–≤–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö `BusinessAccount` ("–ö–∞—Ä—Ç–∞", "–ù–∞–ª–∏—á–Ω—ã–µ"). –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –≤ `FamilyBudget` –ø–æ–ª—è:
- `balance` ‚Äî (—Å—É–º–º–∞—Ä–Ω–æ –∫–∞—Ä—Ç–∞ + –Ω–∞–ª–∏—á–∫–∞) ‚Äî for compatibility
- `card_balance` ‚Äî –±–∞–ª–∞–Ω—Å –Ω–∞ –∫–∞—Ä—Ç–µ
- `cash_balance` ‚Äî –±–∞–ª–∞–Ω—Å –Ω–∞–ª–∏—á–Ω—ã—Ö

–ü—Ä–∞–≤–∏–ª–∞:
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–æ—Ö–æ–¥–∞/–∑–∞—Ä–ø–ª–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å—á—ë—Ç (–∫–∞—Ä—Ç–∞/–Ω–∞–ª).
- –ü—Ä–∏ —Ä–∞—Å—Ö–æ–¥–µ —Ç—Ä–µ–±—É–µ–º —É—á–∏—Ç—ã–≤–∞—Ç—å —Å—á—ë—Ç: –µ—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ —É–∫–∞–∑–∞–Ω–æ `–∫–∞—Ä—Ç–∞`, `–Ω–∞–ª`, `–Ω–∞–ª–∏—á–∫–∞`, `cash`, `card` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ; –∏–Ω–∞—á–µ —Å–ø—Ä–æ—Å–∏—Ç—å.
- –ü—Ä–∏ –≤—ã–¥–∞—á–µ –∑–∞—Ä–ø–ª–∞—Ç—ã –±–∏–∑–Ω–µ—Å—É ‚Äî —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—á—ë—Ç –¥–ª—è –∑–∞—á–∏—Å–ª–µ–Ω–∏—è.
- –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É `card` –∏ `cash` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ `transfer`, —Å —É–º–µ–Ω—å—à–µ–Ω–∏–µ–º –æ–¥–Ω–æ–≥–æ –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –¥—Ä—É–≥–æ–≥–æ.


## –î–∞—à–±–æ—Ä–¥ (–ì–ª–∞–≤–Ω–∞—è)

–ü–æ–ª—è –∏ –±–ª–æ–∫–∏:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `üè† –ì–ª–∞–≤–Ω–∞—è`
- **–°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç (–æ–±—â–∏–π)**: –ø–æ–∫–∞–∑ `balance` (card + cash) –∏ —Å—Ç—Ä–æ–∫–∞-breakdown:
  - `- –∫–∞—Ä—Ç–∞: X ‚ÇΩ`
  - `- –Ω–∞–ª–∏—á–Ω—ã–µ: Y ‚ÇΩ`
- **–ó–∞—á–∏—Å–ª–µ–Ω–∏—è**:
  - –ó–∞—Ä–ø–ª–∞—Ç–∞: —Å—É–º–º–∞—Ä–Ω–æ –∑–∞ –º–µ—Å—è—Ü; —Å–ø—Ä–∞–≤–∞ ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å—É–º–º—ã (–ê–Ω–¥—Ä–µ–π, –ù–∞—Ç–∞—à–∞ –∏ —Ç.–¥.)
  - –î–æ—Ö–æ–¥: —Å—É–º–º–∞—Ä–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ family_income
- **–ü–ª–∞—Ç–µ–∂–∏**:
  - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö `FixedPayment` —Å –∏–∫–æ–Ω–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º:
    - `‚úÖ` ‚Äî –æ–ø–ª–∞—á–µ–Ω–æ (paid_amount >= due_amount)
    - `‚ùå` ‚Äî –Ω–µ–æ–ø–ª–∞—á–µ–Ω–æ (–æ—Å—Ç–∞–ª—Å—è –æ—Å—Ç–∞—Ç–æ–∫ > 0)
    - `‚è≠Ô∏è` ‚Äî –ø—Ä–æ–ø—É—â–µ–Ω/–æ—Ç–∫–ª—é—á—ë–Ω –Ω–∞ –º–µ—Å—è—Ü (skipped)
  - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞: `ICON Name: REMAINING ‚ÇΩ (–¥–æ D —á–∏—Å–ª–∞) - [–ö–∞—Ä—Ç–∞|–ù–∞–ª]` (—Å—á—ë—Ç ‚Äî –∏–º—è —Å—á—ë—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - –í–Ω–∏–∑—É: `–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å: SUM_OF_UNPAID` –∏ `–ù—É–∂–Ω–æ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤ –¥–µ–Ω—å: SUM_OF_UNPAID / current_day` (–∏–ª–∏ –ø–æ —Ñ–æ—Ä–º—É–ª–µ: –¥–µ–ª–∏–º –Ω–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–Ω–∏ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ `–û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ –¥–µ–Ω—å`)

- **–†–∞—Å—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü** ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Å—Ä–µ–¥–Ω—è—è –≤ –¥–µ–Ω—å, –æ–±—â–∞—è —Å—É–º–º–∞
- **–ö–æ–ø–∏–ª–∫–∏** –∏ **–î–æ–ª–≥–∏** ‚Äî –∫–∞–∫ —Ä–∞–Ω–µ–µ; –¥–æ–ª–≥–∏ –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ù–∞–≤–∏–≥–∞—Ü–∏—è: –≤–Ω–∏–∑—É –±–ª–æ–∫–∞ ‚Äî `–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:` —Å –∫–Ω–æ–ø–∫–∞–º–∏ (Inline): `–û–ø–ª–∞—Ç–∏—Ç—å –ø–ª–∞—Ç—ë–∂`, `üí≥ –ü–ª–∞—Ç–µ–∂–∏` (–¥–µ—Ç–∞–ª—å–Ω–æ), `üìã –û–ø–µ—Ä–∞—Ü–∏–∏`, `üè¶ –ö–æ–ø–∏–ª–∫–∏`, `‚¨ÖÔ∏è –ù–∞–∑–∞–¥` / `üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é` –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.


## –ü–æ—Ç–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞ (—Å–µ–º–µ–π–Ω—ã–π)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç: `100 —à–æ–∫–æ–ª–∞–¥–∫–∞` –∏–ª–∏ `100 —à–æ–∫–æ–ª–∞–¥–∫–∞ –∫–∞—Ä—Ç–∞`.
2. –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç (DeepSeek) –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—É–º–º—É –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.
3. –ï—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å —É–∫–∞–∑–∞–Ω–∏–µ —Å—á–µ—Ç–∞ (`–∫–∞—Ä—Ç–∞`, `–Ω–∞–ª`, `–Ω–∞–ª–∏—á–∫–∞`, `cash`, `card`) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –∏ —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—ë–º –æ–ø–µ—Ä–∞—Ü–∏—é:
   - –°–æ–∑–¥–∞—ë—Ç—Å—è `Operation(type='family_expense', total_amount=amount, user_id=<id>)`
   - –°–æ–∑–¥–∞—ë—Ç—Å—è `OperationItem` —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π, —Å—É–±–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π (–µ—Å–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã)
   - –£–º–µ–Ω—å—à–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—á—ë—Ç: `card_balance` –∏–ª–∏ `cash_balance`, –∞ —Ç–∞–∫–∂–µ `balance = card + cash`.
   - Bot –æ—Ç–≤–µ—á–∞–µ—Ç: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
4. –ï—Å–ª–∏ —Å—á—ë—Ç –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Inline-–∫–Ω–æ–ø–∫–∏: `–ö–∞—Ä—Ç–æ–π` / `–ù–∞–ª–∏—á–Ω—ã–º–∏`.
   - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –≤—ã—à–µ.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ï—Å–ª–∏ —Å–µ–º–µ–π–Ω—ã–π `balance` (–∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å—á—ë—Ç) –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ ‚Äî —Å–æ–∑–¥–∞—ë–º –æ–¥–Ω—É Operation —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º OperationItem.


## –ü–æ—Ç–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞ / –≤—ã–¥–∞—á–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã

- –ö–æ–º–∞–Ω–¥–∞ `–î–æ—Ö–æ–¥` (`family_income`) –∏–ª–∏ `/salary` –≤ –±–∏–∑–Ω–µ—Å–µ –≤—ã–∑—ã–≤–∞–µ—Ç FSM.
- –ü—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å—á—ë—Ç: `1000 –¥–æ—Å—Ç–∞–≤–∫a –Ω–∞–ª` ‚Üí –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ –≤ cash
- –ï—Å–ª–∏ —Å—á—ë—Ç –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî —Å–ø—Ä–æ—Å–∏—Ç—å (Inline `–ö–∞—Ä—Ç–∞` / `–ù–∞–ª–∏—á–Ω—ã–µ`)
- –î–ª—è –∑–∞—Ä–ø–ª–∞—Ç—ã: –±–∏–∑–Ω–µ—Å (BusinessAccount) –≤—ã–ø–æ–ª–Ω—è–µ—Ç `pay_salary` ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è `Operation(type='salary')` –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ). –ë–∞–ª–∞–Ω—Å —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç–∞ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `card_balance` –∏–ª–∏ `cash_balance` —Å–µ–º–µ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±–æ—Ä–∞.


## –ü–ª–∞—Ç–µ–∂–∏ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ / –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

- –°–æ–∑–¥–∞–Ω–∏–µ `FixedPayment`: —á–µ—Ä–µ–∑ UI (handler credits) ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `name`, `amount`, `payment_day`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ `default_account` –∏ `category`.
- –ö–∞–∂–¥—ã–π 1 —á–∏—Å–ª–∞ (cron / –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏—è –≤ –º–µ—Å—è—Ü–µ) —Å–æ–∑–¥–∞—ë–º `FixedPaymentDue` –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π: year, month, due_amount.
- –í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞:
  - –ù–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ dues –≤–∏–¥–Ω—ã –≤ –¥–∞—à–±–æ—Ä–¥–µ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `‚ùå` –∏ –æ—Å—Ç–∞—Ç–∫–æ–º.
  - –ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–ª–∞—Ç—ë–∂ (–∏–ª–∏ –≤–≤–æ–¥–∏—Ç `–ö–≤–∞—Ä—Ç–∏—Ä–∞ 27000 –∫–∞—Ä—Ç–∞`) ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Ç–æ–∫ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ `–ü–ª–∞—Ç–µ–∂–∏`:
    - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç–µ–∂–∞ ‚Üí –∫–Ω–æ–ø–∫–∞ `–û–ø–ª–∞—Ç–∏—Ç—å` ‚Üí –≤—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã `–ö–∞—Ä—Ç–æ–π` / `–ù–∞–ª–∏—á–Ω—ã–º–∏` (Inline)
    - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç `Operation(type='family_expense')`, —Å–æ–∑–¥–∞—ë—Ç `OperationItem` –∏ —Å–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É–º–º—É —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—á—ë—Ç–∞ (`card_balance` –∏–ª–∏ `cash_balance`).
    - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `FixedPaymentDue.paid_amount` –∏ `is_paid` –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –ø–æ–∫—Ä—ã—Ç–∏–∏; –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `paid_at` –∏ `paid_account_id`.
  - –ß–∞—Å—Ç–∏—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞: –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Å—É–º–º—ã < due_amount ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º `paid_amount`, `is_paid` –æ—Å—Ç–∞—ë—Ç—Å—è False.
  - –ü—Ä–æ–ø—É—Å–∫ –º–µ—Å—è—Ü–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç `–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å` ‚Äî `due.skipped = True` –∏ –¥–æ–ª–≥ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞.
  - –ü—Ä–æ—Å—Ä–æ—á–∫–∞: –µ—Å–ª–∏ –¥–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ ‚Äî –ø–ª–∞—Ç–µ–∂ –æ—Å—Ç–∞—ë—Ç—Å—è `‚ùå` –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Å—É–º–º–µ `–û—Å—Ç–∞–ª–æ—Å—å –æ–ø–ª–∞—Ç–∏—Ç—å`.

UI –¥–µ—Ç–∞–ª–∏:
- –í —Å–ø–∏—Å–∫–µ –ø–ª–∞—Ç–µ–∂–µ–π (–¥–µ—Ç–∞–ª—å–Ω–æ) –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ ‚Äî –∫–Ω–æ–ø–∫–∏: `üí∏ –û–ø–ª–∞—Ç–∏—Ç—å` (–≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å –≤—ã–±–æ—Ä–æ–º —Å—á—ë—Ç–∞), `‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å`, `üóëÔ∏è –£–¥–∞–ª–∏—Ç—å`, `‚¨ÖÔ∏è –ù–∞–∑–∞–¥`, `üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é`.
- –í –¥–∞—à–±–æ—Ä–¥–µ ‚Äî –∏–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–ª–∞—Ç–µ–∂–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª –î–∞—à–±–æ—Ä–¥).


## –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É '–∫–∞—Ä—Ç–∞' –∏ '–Ω–∞–ª–∏—á–Ω—ã–µ'

- –ö–æ–º–∞–Ω–¥–∞/–∫–Ω–æ–ø–∫–∞ `–ü–µ—Ä–µ–≤–æ–¥`:
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—É–º–º—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `–∫–∞—Ä—Ç–∞ -> –Ω–∞–ª` –∏–ª–∏ `–Ω–∞–ª -> –∫–∞—Ä—Ç–∞`.
  - –°–æ–∑–¥–∞—ë—Ç—Å—è `Operation(type='transfer', total_amount=amount)` –∏ –¥–≤–∞ `OperationItem` (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π) –∏–ª–∏ –æ—Å–æ–±–∞—è –ª–æ–≥–∏–∫–∞: —É–º–µ–Ω—å—à–∞–µ–º `card_balance`, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º `cash_balance` –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.
  - –í –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥.


## –î–æ–ª–≥–∏

- –î–æ–ª–≥–∏ (`Debt`) –≤–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º ‚Äî –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–∞—à–±–æ—Ä–¥–∞ –∞–≥—Ä–µ–≥–∏—Ä—É–µ–º –≤—Å–µ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ –¥–æ–ª–≥–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—É–º–º–∞—Ä–Ω–æ.
- –ü—Ä–∏ –ø–æ–≥–∞—à–µ–Ω–∏–∏ –¥–æ–ª–≥–∞ —Å–æ–∑–¥–∞—ë–º `Operation(type='family_expense')` –∏ –∏–∑–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å `is_paid`.


## –ú–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ `card_balance` –∏ `cash_balance` –≤ `FamilyBudget` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ `BusinessAccount` ("–ö–∞—Ä—Ç–∞", "–ù–∞–ª–∏—á–Ω—ã–µ").
- –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `fixed_payment_dues` (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω–∞) –∏ –∫–æ–ª–æ–Ω–æ–∫ –≤ `fixed_payments`.
- –°–∫—Ä–∏–ø—Ç `scripts/apply_migration.py` –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Alembic-–º–∏–≥—Ä–∞—Ü–∏–∏.


## UI / UX / –°—Ü–µ–Ω–∞—Ä–∏–∏ (–∫–æ—Ä–æ—Ç–∫–∏–µ)

- "–û–ø–ª–∞—Ç–∏—Ç—å –ø–ª–∞—Ç—ë–∂" (–≥–ª–∞–≤–Ω–æ–µ) ‚Üí —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö ‚Üí –≤—ã–±—Ä–∞—Ç—å ‚Üí Inline: `–ö–∞—Ä—Ç–æ–π` / `–ù–∞–ª–∏—á–Ω—ã–º–∏` ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Ç–º–µ—Ç–∫–∞ –≤ due.
- "100 —à–æ–∫–æ–ª–∞–¥–∫–∞" ‚Üí –µ—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ `–∫–∞—Ä—Ç–∞` –∏–ª–∏ `–Ω–∞–ª` ‚Äî —Å—Ä–∞–∑—É –∑–∞–ø–∏—Å—ã–≤–∞–µ–º; –∏–Ω–∞—á–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å—á—ë—Ç.
- "–î–æ—Ö–æ–¥" ‚Üí –µ—Å–ª–∏ —É–∫–∞–∑–∞–ª–∏ `–Ω–∞–ª`/`–∫–∞—Ä—Ç–∞` ‚Äî –∑–∞—á–∏—Å–ª—è–µ–º —Å—Ä–∞–∑—É.
- "–í—ã–¥–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É" (—Å –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç–∞) ‚Üí –≤—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è(–æ–≤), —Å—É–º–º—É –∏ —Å—á—ë—Ç –∑–∞—á–∏—Å–ª–µ–Ω–∏—è.
- "–ü–µ—Ä–µ–≤–æ–¥" ‚Üí –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å—É–º–º—É.


## –¢–µ—Å—Ç-–∫–µ–π—Å—ã (–ø—Ä–∏–º–µ—Ä)

1. –°–æ–∑–¥–∞—Ç—å `FixedPayment` 1000‚ÇΩ –¥–æ 25 —á–∏—Å–ª–∞; –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `FixedPaymentDue` —Å–æ–∑–¥–∞–Ω.
2. –û–ø–ª–∞—Ç–∏—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ 400‚ÇΩ –∫–∞—Ä—Ç–æ–π: `paid_amount=400`, `is_paid=False`, `card_balance` —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ 400.
3. –û–ø–ª–∞—Ç–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 600‚ÇΩ –Ω–∞–ª–∏—á–Ω—ã–º–∏: `paid_amount=1000`, `is_paid=True`, `cash_balance` —É–º–µ–Ω—å—à–∏–ª—Å—è –Ω–∞ 600.
4. –î–æ–±–∞–≤–∏—Ç—å `100 —à–æ–∫–æ–ª–∞–¥–∫–∞` –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Å—á—ë—Ç–∞: –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç; –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ª–∏—á–∫—É; cash_balance —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 100.
5. –í—ã–¥–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É –∏–∑ –±–∏–∑–Ω–µ—Å–∞ 20000‚ÇΩ, –∑–∞—á–∏—Å–ª–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É: business_account.balance —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è; card_balance —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è; balance –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è.
6. –ü–µ—Ä–µ–≤–æ–¥ 500‚ÇΩ –∫–∞—Ä—Ç–∞‚Üí–Ω–∞–ª: card_balance-500, cash_balance+500.


---

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç `project/–ü–õ–ê–¢–ï–ñ–ò_–°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø.md` –∏ —Å–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∫–∏ –∏–ª–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, —á—Ç–æ–±—ã —è –Ω–∞—á–∞–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.